{"version":3,"sources":["roessli.js"],"names":["rmydays","date","getDay","rmySpecificdays","includes","toISOString","substring","transstr","jQuery","attr","newMetaTag","newLinkTag","newLinkZweiTag","languagest","languagealt","shortestImageHeight","window","location","href","addClass","document","createElement","setAttribute","content","head","appendChild","hide","attbgposition","half","$","height","scrolledY","scrollTop","width","css","on","scroll","removeClass","ready","each","buttonText","this","text","ios","galleryfunction","$element","currentIndex","numImages","find","length","innerWidth","slice","first","next","index","thumbnailSrc","thumbnail","click","console","log","eq","append","fancybox","loop","buttons","checkScroll","menubereichcont","scrollableHeight","prop","innerHeight","show","toggleScrollIndicator","toggle","scrollHeight","navigator","userAgent","match","load","data","cookie","indexOf","setTimeout","event","target","closest","is","menuitem","container","children","isMobile","msMaxTouchPoints","e","stopPropagation","hasClass","preventDefault","targetScrollPosition","outerHeight","animate","lenis","Lenis","requestAnimationFrame","raf","time","addEventListener","mainnav","getElementById","scrollY","classList","add","remove"],"mappings":"AAIA,SAAAA,QAAAC,GAEA,OAAA,IAAAA,EAAAC,OAAA,GAAA,IAAAD,EAAAC,OAAA,CACA,CACA,SAAAC,gBAAAF,GAQA,MAPA,CAAA,aAAA,aAAA,aAAA,aACA,aAAA,aAAA,aAAA,aACA,aAAA,aAAA,aAAA,aACA,aAAA,aAAA,aAAA,aACA,aAAA,aAAA,aAAA,aACA,aAAA,aAAA,aAAA,aACA,aAAA,cACAG,SAAAH,EAAAI,YAAA,EAAAC,UAAA,EAAA,EAAA,CAAA,CACA,CAOA,MAAAC,SAAAC,OAAA,MAAA,EAAAC,KAAA,aAAA,EACA,IAqCAC,WAOAC,WAOAC,eAnDAC,WAAA,KACAC,YAAA,KAuFAC,qBArFAR,UAAA,KAAAA,UAEA,MAAAC,OAAA,MAAA,EAAAC,KAAA,MAAA,GAEA,KAAAF,UAEAC,OAAA,cAAA,EAAAC,KAAA,OAAA,kBAAA,EACAD,OAAA,qBAAA,EAAAC,KAAA,OAAA,kBAAA,IAIAD,OAAA,cAAA,EAAAC,KAAA,OAAAF,QAAA,EACAC,OAAA,qBAAA,EAAAC,KAAA,OAAAF,QAAA,GAIAC,OAAA,cAAA,EAAAC,KAAA,OAAAO,OAAAC,SAAAC,IAAA,EACAV,OAAA,qBAAA,EAAAC,KAAA,OAAAO,OAAAC,SAAAC,IAAA,EACAV,OAAA,cAAA,EAAAW,SAAA,MAAA,EACAX,OAAA,qBAAA,EAAAW,SAAA,MAAA,EACAN,WAAA,KACAC,YAAA,OAIAN,OAAA,cAAA,EAAAC,KAAA,OAAAF,QAAA,EACAC,OAAA,qBAAA,EAAAC,KAAA,OAAAF,QAAA,EACAC,OAAA,cAAA,EAAAC,KAAA,OAAAO,OAAAC,SAAAC,IAAA,EACAV,OAAA,qBAAA,EAAAC,KAAA,OAAAO,OAAAC,SAAAC,IAAA,EACAV,OAAA,cAAA,EAAAW,SAAA,MAAA,EACAX,OAAA,qBAAA,EAAAW,SAAA,MAAA,IAIAT,WAAAU,SAAAC,cAAA,MAAA,GACAC,aAAA,aAAA,kBAAA,EACAZ,WAAAa,QAAAV,WACAO,SAAAI,KAAAC,YAAAf,UAAA,GAIAC,WAAAS,SAAAC,cAAA,MAAA,GACAC,aAAA,MAAA,WAAA,EACAX,WAAAW,aAAA,WAAAT,UAAA,EACAF,WAAAO,KAAAF,OAAAC,SAAAC,KACAE,SAAAI,KAAAC,YAAAd,UAAA,GAGAC,eAAAQ,SAAAC,cAAA,MAAA,GACAC,aAAA,MAAA,WAAA,EACAV,eAAAU,aAAA,WAAAR,WAAA,EACAF,eAAAM,KAAA,yBAAAX,SACAa,SAAAI,KAAAC,YAAAb,cAAA,IAMA,MAAAJ,OAAA,MAAA,EAAAC,KAAA,MAAA,GACAD,OAAA,cAAA,EAAAkB,KAAA,EACAlB,OAAA,qBAAA,EAAAkB,KAAA,EACAlB,OAAA,cAAA,EAAAC,KAAA,OAAAO,OAAAC,SAAAC,IAAA,EACAV,OAAA,qBAAA,IAIAA,OAAA,cAAA,EAAAkB,KAAA,EACAlB,OAAA,qBAAA,EAAAkB,KAAA,EACAlB,OAAA,cAAA,EAAAC,KAAA,OAAAO,OAAAC,SAAAC,IAAA,EACAV,OAAA,qBAAA,IAPAC,KAAA,OAAAO,OAAAC,SAAAC,IAAA,EAuBA,GAUA,SAAAS,gBAEA,IAAAC,EAAAC,EAAA,QAAA,EAAAC,OAAA,EAAA,KACAC,EAAAF,EAAAb,MAAA,EAAAgB,UAAA,EAAAJ,EACAC,EAAA,QAAA,EAAAC,OAAA,EAAAD,EAAA,QAAA,EAAAI,MAAA,EAAA,EACAJ,EAAA,QAAA,EAAAK,IAAA,sBAAA,QAAA,EAAA,IAAA,EAGAL,EAAA,QAAA,EAAAK,IAAA,sBAAA,eAAA,CAGA,CA4WA,GA/XAL,EAAAb,MAAA,EAAAmB,GAAA,SAAA,YAGA,EAkBAN,EAAAb,MAAA,EAAAoB,OAAAT,aAAA,EACAE,EAAAb,MAAA,EAAAmB,GAAA,SAAAR,aAAA,EAEAE,EAAAb,MAAA,EAAAoB,OAAA,WAEAP,EAAAT,QAAA,EAAAU,OAAA,EAAAD,EAAAb,MAAA,EAAAgB,UAAA,EAAAH,EAAAb,MAAA,EAAAc,OAAA,GAGA,IAEAD,EAAA,kBAAA,EAAAV,SAAA,SAAA,EAGAU,EAAA,kBAAA,EAAAQ,YAAA,SAAA,CAEA,CAAA,EAIAR,EAAAT,QAAA,EAAAkB,MAAA,WAIAT,EAAA,kBAAA,EAAAU,KAAA,WACA,IAAAC,EAAAX,EAAAY,IAAA,EAAAC,KAAA,EACA,kBAAAF,GAAA,aAAAA,GAEAX,EAAAY,IAAA,EAAAhC,KAAA,SAAA,OAAA,CAEA,CAAA,EAIAkB,cAAA,EAGA,IAAAgB,EAAA,CAAA,EAiCA,SAAAC,EAAAC,GAMA,IACAC,EADAC,EAAAF,EAAAG,KAAA,gBAAA,EAAAC,OAIAN,GACAE,EAAAG,KAAA,sBAAA,EAAAT,KAAA,WACAV,EAAAY,IAAA,EAAAhC,KAAA,QAAA,EAAA,CACA,CAAA,GAIA,IAAAO,OAAAkC,WAEAL,EAAAG,KAAA,gBAAA,EAAAG,MAAA,EAAA,CAAA,EAIAN,EAAAG,KAAA,gBAAA,EAAAI,MAAA,GAJAjC,SAAA,QAAA,EAOA0B,EAAAQ,KAAA,EAAAL,KAAA,KAAA,EAAAI,MAAA,EAAAjC,SAAA,kBAAA,EAEA0B,EAAAG,KAAA,gBAAA,EAAAT,KAAA,SAAAe,GACA,IAAAC,EAAA1B,EAAAY,IAAA,EAAAO,KAAA,KAAA,EAAAvC,KAAA,KAAA,EACA+C,EAAA3B,EAAA,OAAA,EACApB,KAAA,MAAA8C,CAAA,EACApC,SAAA,mBAAA,EAEA,IAAAmC,GACAE,EAAArC,SAAA,kBAAA,EAGAqC,EAAAC,MAAA,WACA,EAAA1C,sBAEAA,oBADA,EAAA8B,EAAAG,KAAA,6BAAA,EAAAI,MAAA,EAAAtB,OAAA,EACAe,EAAAG,KAAA,6BAAA,EAAAI,MAAA,EAAAtB,OAAA,EAEA,KAGAe,EAAAG,KAAA,kBAAA,EAAAlB,OAAAf,mBAAA,EAIA8B,EAAAQ,KAAA,EAAAL,KAAA,KAAA,EAAAX,YAAA,kBAAA,EACAmB,EAAArC,SAAA,kBAAA,EAEA,IAAAmC,EAAAE,EAAAF,MAAA,EACAR,EAAAQ,EACAI,QAAAC,IAAA,aAAAZ,CAAA,EACAW,QAAAC,IAAA,SAAAL,CAAA,EACAI,QAAAC,IAAA,gBAAAb,CAAA,EACAD,EAAAG,KAAA,gBAAA,EAAAX,YAAA,QAAA,EAEAU,GAAAO,EAAA,EACAT,EAAAG,KAAA,oBAAA,EAAAd,IAAA,iBAAA,aAAA,EAIAW,EAAAG,KAAA,oBAAA,EAAAd,IAAA,iBAAA,KAAA,EAKAW,EAAAG,KAAA,gBAAA,EAAAY,GAAAN,CAAA,EAAAnC,SAAA,QAAA,EAEA,IAAAH,OAAAkC,YACAL,EAAAG,KAAA,gBAAA,EAAAY,IAAAN,EAAA,GAAAP,CAAA,EAAA5B,SAAA,QAAA,CAEA,CAAA,EAEAU,EAAAY,IAAA,EAAAO,KAAA,4BAAA,EACAvC,KAAA,OAAA8C,CAAA,EAEAV,EAAAQ,KAAA,EAAAQ,OAAAL,CAAA,CACA,CAAA,EAIAX,EAAAG,KAAA,2BAAA,EAAAc,SAAA,CACAC,KAAA,CAAA,EACAC,QAAA,CACA,OACA,YACA,aACA,WACA,QAEA,CAAA,CAOA,CA+CA,SAAAC,IAEA,IAAAC,EAAArC,EAAA,kBAAA,EAGAsC,EAAAD,EAAAE,KAAA,cAAA,EAAAF,EAAAG,YAAA,EAGAH,EAAAlC,UAAA,GAAAmC,EAAA,GAEAtC,EAAA,cAAA,EAAAH,KAAA,EAGAG,EAAA,cAAA,EAAAyC,KAAA,CAEA,CAaA,SAAAC,IACA1C,EAAA,mBAAA,EAAA2C,OALA3C,EAAA,kBAAA,EAAA,GAAA4C,aAAA5C,EAAA,kBAAA,EAAAwC,YAAA,CAKA,EACAJ,EAAA,CACA,CAlNAtB,EADA+B,CAAAA,CAAAA,UAAAC,UAAAC,MAAA,oBAAA,EAMA/C,EAAA,gBAAA,EAAAoB,QAEAL,EAAAf,EAAA,gBAAA,CAAA,EAIAA,EAAA,iBAAA,EAAAoB,QAEAzC,OAAA,iBAAA,EAAAqE,KAAA,YAAArE,OAAA,iBAAA,EAAAsE,KAAA,aAAA,EAAA,sBAAA,WAEAlC,EAAAf,EAAA,iBAAA,CAAA,CACA,CAAA,EAGAA,EAAA,oBAAA,EAAAoB,QAEAzC,OAAA,oBAAA,EAAAqE,KAAA,YAAArE,OAAA,oBAAA,EAAAsE,KAAA,aAAA,EAAA,sBAAA,WAEAlC,EAAAf,EAAA,oBAAA,CAAA,EACA6B,QAAAC,IAAA,SAAA,CACA,CAAA,EA8GA,CAAA,IAAAvC,SAAA2D,OAAAC,QAAA,aAAA,GACAnD,EAAA,cAAA,EAAAyC,KAAA,EAIAzC,EAAA,mBAAA,EAAA4B,MAAA,WAEArC,SAAA2D,OAAA,mBAGAlD,EAAA,cAAA,EAAAH,KAAA,CACA,CAAA,EAIA,CAAA,IAAAN,SAAA2D,OAAAC,QAAA,oBAAA,GACAnD,EAAA,qBAAA,EAAAyC,KAAA,EAIAzC,EAAA,aAAA,EAAA4B,MAAA,WAEArC,SAAA2D,OAAA,0BAGAlD,EAAA,qBAAA,EAAAH,KAAA,CACA,CAAA,EAEAG,EAAA,aAAA,EAAA4B,MAAA,WACA5B,EAAA,MAAA,EAAAQ,YAAA,UAAA,EACAR,EAAA,oBAAA,EAAAH,KAAA,CAEA,CAAA,EAEAG,EAAA,aAAA,EAAA4B,MAAA,WACA5B,EAAA,MAAA,EAAAV,SAAA,UAAA,EACA8D,WAAAV,EAAA,GAAA,CAEA,CAAA,EAEA1C,EAAA,cAAA,EAAA4B,MAAA,WACA5B,EAAA,MAAA,EAAAQ,YAAA,UAAA,CACA,CAAA,EAoBAR,EAAA,kBAAA,EAAAM,GAAA,SAAA8B,CAAA,EAiBApC,EAAAT,QAAA,EAAAe,GAAA,QAAA,SAAA+C,GAEArD,EAAAqD,EAAAC,MAAA,EAAAC,QAAA,oBAAA,EAAAnC,QAAApB,EAAAqD,EAAAC,MAAA,EAAAE,GAAA,oBAAA,GACAxD,EAAA,oBAAA,EAAAH,KAAA,CAEA,CAAA,EAiBA,IAAA4D,EAAAzD,EAAA,MAAA,EAAAiD,KAAA,UAAA,EACAQ,IACAC,EAAA1D,EAAA,IAAAyD,CAAA,GACArC,SACAsC,EAAAC,SAAA,SAAA,EAAAtD,IAAA,UAAA,MAAA,EACAqD,EAAAvC,KAAA,gBAAA,EAAAsB,KAAA,EACAiB,EAAAvC,KAAA,cAAA,EAAAtB,KAAA,EACA6D,EAAAvC,KAAA,gBAAA,EAAA7B,SAAA,MAAA,GAIAU,EAAA,oBAAA,EAAAU,KAAA,WACA,IAAAgD,EAAA1D,EAAAY,IAAA,EAGAgD,EAAA,CAAA,GAGA,iBAAAzE,QAAA0D,UAAAgB,oBACAD,EAAA,CAAA,GA2BAF,EAAAvC,KAAA,oBAAA,EAAAb,GAAA,QAAA,SAAAwD,GACAA,EAAAC,gBAAA,EAEAL,EAAAvC,KAAA,gBAAA,EAAA6C,SAAA,MAAA,GAMAN,EAAAC,SAAA,SAAA,EAAA9D,KAAA,EACA6D,EAAAvC,KAAA,gBAAA,EAAAtB,KAAA,EACA6D,EAAAvC,KAAA,cAAA,EAAAsB,KAAA,EACAiB,EAAAvC,KAAA,gBAAA,EAAAX,YAAA,MAAA,IARAkD,EAAAC,SAAA,SAAA,EAAAtD,IAAA,UAAA,MAAA,EACAqD,EAAAvC,KAAA,gBAAA,EAAAsB,KAAA,EACAiB,EAAAvC,KAAA,cAAA,EAAAtB,KAAA,EACA6D,EAAAvC,KAAA,gBAAA,EAAA7B,SAAA,MAAA,GAOAoD,EAAA,CACA,CAAA,EAEAgB,EAAAvC,KAAA,mBAAA,EAAAb,GAAA,QAAA,SAAAwD,GACAF,IACAE,EAAAG,eAAA,EACA9E,OAAAC,SAAAC,KAAAW,EAAAY,IAAA,EAAAhC,KAAA,MAAA,EAEA,CAAA,CACA,CAAA,EAGAoB,EAAA,mBAAA,EAAA4B,MAAA,WAEA,IAAAsC,EAAAlE,EAAA,kBAAA,EAAAuC,KAAA,cAAA,EAAAvC,EAAA,kBAAA,EAAAmE,YAAA,EAGAnE,EAAA,kBAAA,EAAAoE,QAAA,CAAAjE,UAAA+D,CAAA,EAAA,GAAA,CACA,CAAA,CAGA,CAAA,EAOA,CAAAlE,EAAA,WAAA,EAAAoB,OAAA,CAGA,MAAAiD,EAAA,IAAAC,MAGAtE,EAAAT,QAAA,EAAAkB,MAAA,WAOA8D,sBANA,SAAAC,EAAAC,GACAJ,EAAAG,IAAAC,CAAA,EACAF,sBAAAC,CAAA,CAEA,CAEA,CACA,CAAA,CAGA,CASArF,OAAAuF,iBAAA,SAAA,WACA,IAAAC,EAAApF,SAAAqF,eAAA,SAAA,EAGA,KAFAzF,OAAA0F,QAGAF,EAAAG,UAAAC,IAAA,WAAA,EAEAJ,EAAAG,UAAAE,OAAA,WAAA,CAEA,CAAA","file":"all.min.js","sourcesContent":["\n  /* anmeldeformular functions */\n  \n  \n    function rmydays(date) {\n    //console.log('Jahr:' + date.getFullYear() + 'monat:' + date.getMonth() + 'tag:' + date.getDate());\n        return (date.getDay() === 2 || date.getDay() === 3 );\n    }\n    function rmySpecificdays(date) {\n        const rdatedData = [\"2023-12-23\", \"2023-12-24\", \"2023-12-25\", \"2023-12-26\",\n        \"2024-01-07\", \"2024-01-08\", \"2024-01-09\", \"2024-01-10\",\n        \"2024-01-11\", \"2024-01-12\", \"2024-01-13\", \"2024-01-14\",\n        \"2024-01-15\", \"2024-01-16\", \"2024-01-17\", \"2024-01-18\",\n        \"2024-01-19\", \"2024-01-20\", \"2024-01-21\", \"2024-01-22\",\n        \"2024-01-23\", \"2024-01-24\", \"2024-01-25\", \"2024-01-26\",\n        \"2024-01-27\", \"2024-01-28\", ];\n        return rdatedData.includes(date.toISOString().substring(0, 10));\n    }\n  \n  \n// translation functions\n\n\n\nconst transstr = jQuery('body').attr(\"translation\");\nvar languagest = 'de';\nvar languagealt = 'en';\n  \nif (transstr && transstr !== \"\") {\n\n if( jQuery('body').attr(\"lang\") == 'en') {\n\n  if(transstr == '/') {\n    \n\tjQuery('.deenlink.de').attr('href', '/?notdetection=1');\n\tjQuery('.deenlinkoverlay.de').attr('href', '/?notdetection=1');\n\n  } else {\n\n\tjQuery('.deenlink.de').attr('href', transstr);\n\tjQuery('.deenlinkoverlay.de').attr('href', transstr);\n\n  }\n\n\tjQuery('.deenlink.en').attr('href', window.location.href);\n\tjQuery('.deenlinkoverlay.en').attr('href', window.location.href);\n\tjQuery('.deenlink.en').addClass('curr');\n\tjQuery('.deenlinkoverlay.en').addClass('curr');\n   \tlanguagest = 'en';\n    languagealt = 'de';\n } else {\n   \n\n\tjQuery('.deenlink.en').attr('href', transstr);\n\tjQuery('.deenlinkoverlay.en').attr('href', transstr);\n\tjQuery('.deenlink.de').attr('href', window.location.href);\n\tjQuery('.deenlinkoverlay.de').attr('href', window.location.href);\n\tjQuery('.deenlink.de').addClass('curr');\n\tjQuery('.deenlinkoverlay.de').addClass('curr');\n }\n  \n\n        var newMetaTag = document.createElement('meta');\n        newMetaTag.setAttribute('http-equiv', 'content-language');\n        newMetaTag.content = languagest;\n        document.head.appendChild(newMetaTag);\n      \n  \n\n        var newLinkTag = document.createElement('link');\n        newLinkTag.setAttribute('rel', 'alternate');\n        newLinkTag.setAttribute('hreflang', languagest);\n        newLinkTag.href = window.location.href;\n        document.head.appendChild(newLinkTag);\n      \n\n        var newLinkZweiTag = document.createElement('link');\n        newLinkZweiTag.setAttribute('rel', 'alternate');\n        newLinkZweiTag.setAttribute('hreflang', languagealt);\n        newLinkZweiTag.href = 'https://www.roessli.ch' + transstr;\n        document.head.appendChild(newLinkZweiTag);\n      \n\n\n} else {\n\n  if(jQuery('body').attr(\"lang\") == 'en') {\n    jQuery('.deenlink.de').hide();\n    jQuery('.deenlinkoverlay.de').hide();\n    jQuery('.deenlink.en').attr('href', window.location.href);\n    jQuery('.deenlinkoverlay.en').attr('href', window.location.href);\n\n\n  } else {\n    jQuery('.deenlink.en').hide();\n    jQuery('.deenlinkoverlay.en').hide();\n    jQuery('.deenlink.de').attr('href', window.location.href);\n    jQuery('.deenlinkoverlay.de').attr('href', window.location.href);\n\n\n  }\n\n\n\n}\n\n// translation functions\n  \n  \n  \n    \n\n  /* galerie */\n   var shortestImageHeight = 0;\n\n$( window ).on( \"resize\", function() {\n\n var shortestImageHeight = 0;\n} );\n\n\n  /* / galerie */\n\n  function attbgposition() {\n\nvar half = $('#attbg').height() / 2.95;\nvar scrolledY = $(window).scrollTop() - half;\nif($('#attbg').height() < ($('#attbg').width() / 2)) {\n$('#attbg').css('background-position', 'left ' + ((scrolledY)) + 'px');\n} else {\n\n$('#attbg').css('background-position', 'center center');\n}\n\n}\n\n$(window).scroll(attbgposition);\n$( window ).on( \"resize\", attbgposition);\n\n$(window).scroll(function() {\n  // Calculate how far the user has scrolled from the bottom of the page\n  var scrollFromBottom = $(document).height() - $(window).scrollTop() - $(window).height();\n  \n  // Check if the user has scrolled to 50px from the bottom\n  if (scrollFromBottom <= 100) {\n    // Add the class \"hideges\" to the element\n    $('a.geschenkbutton').addClass('hideges');\n  } else {\n    // Remove the class \"hideges\" from the element\n    $('a.geschenkbutton').removeClass('hideges');\n  }\n});\n\n\n\n  $(document).ready(function() {\n    \n    \n    /* rewrite spa button target */\n    $('.buttongelb-navi').each(function() {\n      var buttonText = $(this).text();\n      if (buttonText === 'TERMIN BUCHEN' || buttonText === 'BOOK SPA') {\n        // If yes, change the target attribute to \"_self\"\n        $(this).attr('target', '_self');\n      }\n    });\n    /* rewrite spa button target */\n    \n    \n    attbgposition();\n\n\n    var ios = false;\n       if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {\n            ios = true;\n\t} else { \n            ios = false;       \n        }\n\n        if ($('#zimmergallery').length){\n\n                         galleryfunction($('#zimmergallery'));\n        }\n\n\n    if ($('#photos-gallery').length){\n\n             jQuery('#photos-gallery').load(\"/sliders/\"+ jQuery('#photos-gallery').data('galleryslug') +\" .gallery-container\", function() {\n\n               galleryfunction($('#photos-gallery'));\n             });\n    }\n    \n    if ($('#photos-gallerytwo').length){\n\n        jQuery('#photos-gallerytwo').load(\"/sliders/\"+ jQuery('#photos-gallerytwo').data('galleryslug') +\" .gallery-container\", function() {\n\n        galleryfunction($('#photos-gallerytwo'));\n        console.log('ttttest');\n        });\n    }\n    \n\n\n\n    function galleryfunction($element) {\n\n\n\n    /* galerie */\n\n    var numImages = $element.find('.gallery-image').length;\n    var currentIndex = 0;\n\n\n    if(ios) {\n        $element.find('.gallery-image a img').each(function() {\n            $(this).attr('sizes', '');\n        });\n    }\n\n\n    if(window.innerWidth > 991) {\n\n        $element.find('.gallery-image').slice(0, 2).addClass('active');\n    \n    } else {\n\n        $element.find('.gallery-image').first().addClass('active');\n\n    }\n    $element.next().find('img').first().addClass('active-thumbnail');\n\n    $element.find('.gallery-image').each(function(index) {\n      var thumbnailSrc = $(this).find('img').attr('src');\n      var thumbnail = $('<img>')\n        .attr('src', thumbnailSrc)\n        .addClass('zimmergaleriebild');\n\n      if (index === 0) {\n        thumbnail.addClass('active-thumbnail');\n      }\n\n      thumbnail.click(function() {\n          if(shortestImageHeight>0) {} else {\n            if($element.find('.gallery-image.active a img').first().height() > 0) {\n                shortestImageHeight = $element.find('.gallery-image.active a img').first().height();\n            } else {\n                shortestImageHeight = 200;\n            }\n          }\n          $element.find('.gallery-image a').height(shortestImageHeight);\n\n\n\n        $element.next().find('img').removeClass('active-thumbnail');\n        thumbnail.addClass('active-thumbnail');\n\n        var index = thumbnail.index();\n        currentIndex = index;\n        console.log('numImages:'+numImages);\n        console.log('index:'+index);\n        console.log('currentIndex:'+currentIndex);\n        $element.find('.gallery-image').removeClass('active');\n\n        if(numImages == index + 1) {\n            $element.find('.gallery-container').css('flex-direction', 'row-reverse');\n\n        } else {\n\n            $element.find('.gallery-container').css('flex-direction', 'row');\n\n        }\n\n\n        $element.find('.gallery-image').eq(index).addClass('active');\n\n        if(window.innerWidth > 991) {\n            $element.find('.gallery-image').eq((index + 1) % numImages).addClass('active');\n        }\n      });\n\n      var fancyboxLink = $(this).find('a[data-fancybox=\"gallery\"]');\n      fancyboxLink.attr('href', thumbnailSrc);\n\n      $element.next().append(thumbnail);\n    });\n\n\n\n    $element.find('[data-fancybox=\"gallery\"]').fancybox({\n      loop: true,\n      buttons: [\n        'zoom',\n        'slideShow',\n        'fullScreen',\n        'download',\n        'close'\n      ]\n    });\n\n\n    /* /galerie */\n\n\n\n  };\n\n\n  if (document.cookie.indexOf(\"popupferien\") === -1) {\n        $('.popupferien').show(); // Display the popup\n      }\n\n      // Handle click on the close button\n      $('.popupferienclose').click(function() {\n        // Write the \"popupdirektbuchung\" cookie\n        document.cookie = \"popupferien=true\";\n\n        // Close the popup\n        $('.popupferien').hide();\n      });\n\n\n\n      if (document.cookie.indexOf(\"popupdirektbuchung\") === -1) {\n        $('.popupdirektbuchung').show(); // Display the popup\n      }\n\n      // Handle click on the close button\n      $('.popupclose').click(function() {\n        // Write the \"popupdirektbuchung\" cookie\n        document.cookie = \"popupdirektbuchung=true\";\n\n        // Close the popup\n        $('.popupdirektbuchung').hide();\n      });\n\n      $(\".subnavlink\").click(function() {\n        $(\"body\").removeClass(\"noscroll\");\n        $('.navigationoverlay').hide();\n\n      });\n\n      $(\".menubutton\").click(function() {\n        $(\"body\").addClass(\"noscroll\");\n        setTimeout(toggleScrollIndicator, 500);\n        \n      });\n\n      $(\".closebutton\").click(function() {\n        $(\"body\").removeClass(\"noscroll\");\n      });\n\n        function checkScroll() {\n    // Get the element with class '.menubereichcont'\n        const menubereichcont = $('.menubereichcont');\n\n        // Calculate the total scrollable height of the element\n        const scrollableHeight = menubereichcont.prop('scrollHeight') - menubereichcont.innerHeight();\n\n        // Check if the scroll position is at the bottom or beyond\n        if (menubereichcont.scrollTop() >= scrollableHeight - 20) {\n        // If at the bottom, hide the scroll icon\n        $('.scroll-icon').hide();\n        } else {\n        // If not at the bottom, show the scroll icon\n        $('.scroll-icon').show();\n        }\n    }\n\n  // Bind the scroll event to the '.menubereichcont' element\n  $('.menubereichcont').on('scroll', checkScroll);\n\n\n      /* scroll indicator */\n\n          function hasScrollbar() {\n            return $('.menubereichcont')[0].scrollHeight > $('.menubereichcont').innerHeight();\n            }\n\n            // Function to toggle the scroll indicator visibility\n            function toggleScrollIndicator() {\n            $('.scroll-indicator').toggle(hasScrollbar());\n            checkScroll();\n            }\n\n\n\n      $(document).on(\"click\", function(event) {\n        // Check if the clicked element is not part of .navigationoverlay\n        if (!$(event.target).closest(\".navigationoverlay\").length && !$(event.target).is(\".navigationoverlay\")) {\n          $(\".navigationoverlay\").hide();\n        }\n      });\n\n    function addMenuActiveClass() {\n      if ($('.navigationoverlay').css('display') === 'block') {\n        $('.simplebooking').removeClass('menuactive');\n      } else {\n        $('.simplebooking').addClass('menuactive');\n      }\n    }\n\n    // Attach click event handlers to .menubutton and .closebutton\n    /*\n    $('.menubutton, .closebutton, .subnavlink').click(function() {\n      addMenuActiveClass();\n    });\n    */\n   \n    var menuitem = $(\"body\").data(\"menuitem\");\n    if (menuitem) {\n      var container = $(\"#\" + menuitem);\n      if (container.length) {\n        container.children(\".subnav\").css(\"display\", \"flex\");\n        container.find(\".nav .expanded\").show();\n        container.find(\".nav .expand\").hide();\n        container.find(\".nav .expanded\").addClass('lokd');\n      }\n    }\n\n    $(\".menulinkcontainer\").each(function() {\n      var container = $(this);\n      var timeout;\n      var locked = false;\n      var isMobile = false;\n\n      // Feature detection to handle mobile devices\n      if ('ontouchstart' in window || navigator.msMaxTouchPoints) {\n        isMobile = true;\n      }\n/*\n      container.hover(\n        function() {\n          if (!isMobile || container.find(\".nav .expanded\").hasClass('lokd')) {\n            clearTimeout(timeout);\n            container.children(\".subnav\").css(\"display\", \"flex\");\n            container.find(\".nav .expanded\").show();\n            container.find(\".nav .expand\").hide();\n            if (!container.find(\".nav .expanded\").hasClass('lokd')) {\n              container.find(\".nav .expanded\").removeClass('lokd');\n            }\n          }\n        },\n        function() {\n          if (!isMobile && !container.find(\".nav .expanded\").hasClass('lokd')) {\n            timeout = setTimeout(function() {\n              container.children(\".subnav\").hide();\n              container.find(\".nav .expanded\").hide();\n              container.find(\".nav .expand\").show();\n              container.find(\".nav .expanded\").removeClass('lokd');\n            }, 500);\n          }\n        }\n      );\n*/\n      container.find(\".expanded, .expand\").on('click', function(e) {\n        e.stopPropagation();\n\n        if (!container.find(\".nav .expanded\").hasClass('lokd')) {\n          container.children(\".subnav\").css(\"display\", \"flex\");\n          container.find(\".nav .expanded\").show();\n          container.find(\".nav .expand\").hide();\n          container.find(\".nav .expanded\").addClass('lokd');\n        } else {\n          container.children(\".subnav\").hide();\n          container.find(\".nav .expanded\").hide();\n          container.find(\".nav .expand\").show();\n          container.find(\".nav .expanded\").removeClass('lokd');\n        }\n        toggleScrollIndicator();\n      });\n\n      container.find(\".nav .menulinktop\").on('click', function(e) {\n        if (isMobile) {\n          e.preventDefault();\n          window.location.href = $(this).attr('href');\n        }\n      });\n    });\n\n\n    $('.scroll-indicator').click(function() {\n      // Calculate the target scroll position (all the way down)\n      var targetScrollPosition = $('.menubereichcont').prop('scrollHeight') - $('.menubereichcont').outerHeight();\n  \n      // Scroll the .menubereichcont element to the target position\n      $('.menubereichcont').animate({ scrollTop: targetScrollPosition }, 1000); // You can adjust the animation duration (1000ms = 1 second) as needed\n    });\n\n\n  });\n\n/* Lenis */\n\n\n\n\n if(!$('.homebody').length) {\n\n  \nconst lenis = new Lenis();\n\n\n$(document).ready(function() {\nfunction raf(time) {\n  lenis.raf(time);\n  requestAnimationFrame(raf);\n\n}\n\nrequestAnimationFrame(raf);\n});\n\n\n}\n\n\n\n\n\n\n  /* Lenis */\n\nwindow.addEventListener(\"scroll\", function() {\n    var mainnav = document.getElementById(\"mainnav\");\n    var scrolled = window.scrollY;\n\n    if (scrolled >= 150) {\n        mainnav.classList.add(\"scrolling\");\n    } else {\n        mainnav.classList.remove(\"scrolling\");\n    }\n});\n  \n  /* cookie-script override \n  \n  $( document ).ready(function() {\n      setTimeout(() => {    $('#cookiescript_buttons #cookiescript_accept').attr('style', 'color:#fff;background-color:#dcae6b;border-top-right-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:0px;border-top-left-radius:0px;padding-left:15px;padding-right:15px;');\n  }, 1000);\n\n  }); \n\t*/\n"]}